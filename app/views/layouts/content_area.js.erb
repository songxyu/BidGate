<%
	logger.debug "======= responded with rendered content_area.js.erb ======"
	ctrl_name = params[:controller]  # bug when use controller.controller_name!
 	action_name = params[:action] # controller.action_name
  	logger.debug "*** controller_name= " + ctrl_name +", action_name= " + action_name 
  	action_path = ctrl_name + '/' + action_name 
  	logger.debug "*** action_path: " + action_path
%>  	
  	
<% 	# show left area if not logon/logout related
  	if not ["users", "sessions"].include?(ctrl_name)
%>
$(".left_wrapper").show();

<% end %>
 
 <% if action_name == 'show' %>
   
 	$("#dialog_area").html("<%= escape_javascript render(:partial => action_path ) %>");
	//$("#dialog_area").dialog();
	
	$("#dialog_area").overlay({
		 top: 260,
		mask: {
         color: '#ebecff',
         loadSpeed: 200,
         opacity: 0.9
      	}, 
      	closeOnClick: true,
      	load: true
	});
  
 <% else %>
	$(".content_area").html("<%= escape_javascript render(:partial => action_path ) %>");
 <% end %>
